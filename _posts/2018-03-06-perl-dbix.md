---
title: Perl - DBIx::Class
tags: [perl, dbix_class, database]
reference:
  -
---

* TOC 
{:toc}

# Про DBIx::Class. О простых вещах и не только.

Маленький cookbook для личного использования.

Довольно часто приходиться делать запросы в базу с помощью dbix, но не всегда получается "перевести" SQL запрос фреймворку, чтобы тот адекватно его выполнил. Иной раз получается такое... какие-то непонятные вложенные селекты, которые ты точно не хотел использовать.

Дабы избежать недопонимание с обоих сторон, опишу то как строятся и выполняются запросы с помощью dbix.

Почти все примеры взял из оф. Документации, ссылки рядом

# Как сделать update where в dbix

Оказывается все очень просто. Готового update where просто не существует, даже если update передовать второй параметр хешреф(по идеи который и должены быть where) будет update ВСЕХ строк!

Нужно делать 
<pre><code class="perl">
search( $cond )->update( $data )
</code></pre>
тогда логически это читается найди и обнови, но по факту запроса на select не будет. 
